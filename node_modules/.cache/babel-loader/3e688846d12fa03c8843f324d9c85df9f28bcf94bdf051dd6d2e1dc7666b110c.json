{"ast":null,"code":"import { vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelRadio as _vModelRadio, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"weather\"\n};\nconst _hoisted_2 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.city = $event),\n    onChange: _cache[1] || (_cache[1] = (...args) => $options.fetchWeather && $options.fetchWeather(...args)),\n    placeholder: \"Введите город\"\n  }, null, 544), [[_vModelText, $data.city]]), _createElementVNode(\"h2\", null, \"Погода в \" + _toDisplayString($data.city), 1), _createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.favoriteCities, favorite => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: favorite\n    }, _toDisplayString(favorite), 1);\n  }), 128))]), _createElementVNode(\"p\", null, \"Температура: \" + _toDisplayString($data.weather.temp) + \"°\" + _toDisplayString($data.unit), 1), _createElementVNode(\"p\", null, \"Описание: \" + _toDisplayString($data.weather.description), 1), _createElementVNode(\"img\", {\n    src: $data.weather.iconUrl,\n    alt: \"Weather icon\"\n  }, null, 8, _hoisted_2), _createElementVNode(\"p\", null, \"Влажность: \" + _toDisplayString($data.weather.humidity) + \"%\", 1), _createElementVNode(\"p\", null, \"Давление: \" + _toDisplayString($data.weather.pressure) + \" hPa\", 1), _createElementVNode(\"p\", null, \"Ветер: \" + _toDisplayString($data.weather.windSpeed) + \" м/с, направление: \" + _toDisplayString($data.weather.windDirection) + \"°\", 1), _createElementVNode(\"div\", null, [_createElementVNode(\"label\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"radio\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.unit = $event),\n    value: \"C\",\n    onChange: _cache[3] || (_cache[3] = (...args) => $options.fetchWeather && $options.fetchWeather(...args))\n  }, null, 544), [[_vModelRadio, $data.unit]]), _cache[6] || (_cache[6] = _createTextVNode(\" Цельсий \"))]), _createElementVNode(\"label\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"radio\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.unit = $event),\n    value: \"F\",\n    onChange: _cache[5] || (_cache[5] = (...args) => $options.fetchWeather && $options.fetchWeather(...args))\n  }, null, 544), [[_vModelRadio, $data.unit]]), _cache[7] || (_cache[7] = _createTextVNode(\" Фаренгейт \"))])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_cache","$event","$data","city","onChange","args","$options","fetchWeather","placeholder","_toDisplayString","_Fragment","_renderList","favoriteCities","favorite","key","weather","temp","unit","description","src","iconUrl","alt","_hoisted_2","humidity","pressure","windSpeed","windDirection","type","value","_createTextVNode"],"sources":["C:\\Users\\Workstation\\weather-app\\src\\components\\WeatherDisplay.vue"],"sourcesContent":["<template>\r\n  <div class=\"weather\">\r\n    <input v-model=\"city\" @change=\"fetchWeather\" placeholder=\"Введите город\" />\r\n    <h2>Погода в {{ city }}</h2>\r\n    <!-- Список избранных городов -->\r\n    <ul>\r\n      <li v-for=\"favorite in favoriteCities\" :key=\"favorite\">{{ favorite }}</li>\r\n    </ul>\r\n    <p>Температура: {{ weather.temp }}°{{ unit }}</p>\r\n    <p>Описание: {{ weather.description }}</p>\r\n    <img :src=\"weather.iconUrl\" alt=\"Weather icon\" />\r\n    <p>Влажность: {{ weather.humidity }}%</p>\r\n    <p>Давление: {{ weather.pressure }} hPa</p>\r\n    <p>Ветер: {{ weather.windSpeed }} м/с, направление: {{ weather.windDirection }}°</p>\r\n    \r\n\r\n    <!-- Переключатель единиц измерения -->\r\n    <div>\r\n      <label>\r\n        <input type=\"radio\" v-model=\"unit\" value=\"C\" @change=\"fetchWeather\" /> Цельсий\r\n      </label>\r\n      <label>\r\n        <input type=\"radio\" v-model=\"unit\" value=\"F\" @change=\"fetchWeather\" /> Фаренгейт\r\n      </label>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n  return {\r\n    city: 'Moscow',\r\n    unit: 'C',\r\n    weather: {},\r\n    favoriteCities: JSON.parse(localStorage.getItem('favoriteCities')) || [] // получаем из localStorage\r\n  };\r\n},\r\n  methods: {\r\n  addToFavorites() {\r\n    if (!this.favoriteCities.includes(this.city)) {\r\n      this.favoriteCities.push(this.city);\r\n      localStorage.setItem('favoriteCities', JSON.stringify(this.favoriteCities)); // сохраняем в localStorage\r\n    }\r\n  },\r\n  async fetchWeather() {\r\n    const apiKey = process.env.VUE_APP_API_KEY;\r\n    const units = this.unit === 'C' ? 'metric' : 'imperial';\r\n    const url = `${process.env.VUE_APP_BASE_URL}weather?q=${this.city}&units=${units}&appid=${apiKey}`;\r\n    try {\r\n      const response = await axios.get(url);\r\n      this.weather = {\r\n        temp: response.data.main.temp,\r\n        description: response.data.weather[0].description,\r\n        iconUrl: `http://openweathermap.org/img/wn/${response.data.weather[0].icon}.png`,\r\n        humidity: response.data.main.humidity,\r\n        pressure: response.data.main.pressure,\r\n        windSpeed: response.data.wind.speed,\r\n        windDirection: response.data.wind.deg\r\n      };\r\n      this.addToFavorites(); // добавляем город в избранное\r\n    } catch (error) {\r\n      console.error('Ошибка получения данных:', error);\r\n    }\r\n  }\r\n},\r\n  mounted() {\r\n    this.fetchWeather(); // загружаем погоду сразу при старте\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.weather {\r\n  font-family: Arial, sans-serif;\r\n  text-align: center;\r\n  margin-top: 20px;\r\n}\r\n\r\nh2 {\r\n  color: #444;\r\n}\r\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAAS;mBADtB;;uBACEC,mBAAA,CAwBM,OAxBNC,UAwBM,G,gBAvBJC,mBAAA,CAA2E;IAF/E,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAEoBC,KAAA,CAAAC,IAAI,GAAAF,MAAA;IAAGG,QAAM,EAAAJ,MAAA,QAAAA,MAAA,UAAAK,IAAA,KAAEC,QAAA,CAAAC,YAAA,IAAAD,QAAA,CAAAC,YAAA,IAAAF,IAAA,CAAY;IAAEG,WAAW,EAAC;gCAAzCN,KAAA,CAAAC,IAAI,E,GACpBJ,mBAAA,CAA4B,YAAxB,WAAS,GAAAU,gBAAA,CAAGP,KAAA,CAAAC,IAAI,OAEpBJ,mBAAA,CAEK,c,kBADHF,mBAAA,CAA0Ea,SAAA,QANhFC,WAAA,CAM6BT,KAAA,CAAAU,cAAc,EAA1BC,QAAQ;yBAAnBhB,mBAAA,CAA0E;MAAlCiB,GAAG,EAAED;IAAQ,GAAAJ,gBAAA,CAAKI,QAAQ;eAEpEd,mBAAA,CAAiD,WAA9C,eAAa,GAAAU,gBAAA,CAAGP,KAAA,CAAAa,OAAO,CAACC,IAAI,IAAG,GAAC,GAAAP,gBAAA,CAAGP,KAAA,CAAAe,IAAI,OAC1ClB,mBAAA,CAA0C,WAAvC,YAAU,GAAAU,gBAAA,CAAGP,KAAA,CAAAa,OAAO,CAACG,WAAW,OACnCnB,mBAAA,CAAiD;IAA3CoB,GAAG,EAAEjB,KAAA,CAAAa,OAAO,CAACK,OAAO;IAAEC,GAAG,EAAC;cAVpCC,UAAA,GAWIvB,mBAAA,CAAyC,WAAtC,aAAW,GAAAU,gBAAA,CAAGP,KAAA,CAAAa,OAAO,CAACQ,QAAQ,IAAG,GAAC,MACrCxB,mBAAA,CAA2C,WAAxC,YAAU,GAAAU,gBAAA,CAAGP,KAAA,CAAAa,OAAO,CAACS,QAAQ,IAAG,MAAI,MACvCzB,mBAAA,CAAoF,WAAjF,SAAO,GAAAU,gBAAA,CAAGP,KAAA,CAAAa,OAAO,CAACU,SAAS,IAAG,qBAAmB,GAAAhB,gBAAA,CAAGP,KAAA,CAAAa,OAAO,CAACW,aAAa,IAAG,GAAC,MAIhF3B,mBAAA,CAOM,cANJA,mBAAA,CAEQ,gB,gBADNA,mBAAA,CAAsE;IAA/D4B,IAAI,EAAC,OAAO;IAnB3B,uBAAA3B,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAmBqCC,KAAA,CAAAe,IAAI,GAAAhB,MAAA;IAAE2B,KAAK,EAAC,GAAG;IAAExB,QAAM,EAAAJ,MAAA,QAAAA,MAAA,UAAAK,IAAA,KAAEC,QAAA,CAAAC,YAAA,IAAAD,QAAA,CAAAC,YAAA,IAAAF,IAAA,CAAY;iCAArCH,KAAA,CAAAe,IAAI,E,6BAnBzCY,gBAAA,CAmB8E,WACxE,G,GACA9B,mBAAA,CAEQ,gB,gBADNA,mBAAA,CAAsE;IAA/D4B,IAAI,EAAC,OAAO;IAtB3B,uBAAA3B,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAsBqCC,KAAA,CAAAe,IAAI,GAAAhB,MAAA;IAAE2B,KAAK,EAAC,GAAG;IAAExB,QAAM,EAAAJ,MAAA,QAAAA,MAAA,UAAAK,IAAA,KAAEC,QAAA,CAAAC,YAAA,IAAAD,QAAA,CAAAC,YAAA,IAAAF,IAAA,CAAY;iCAArCH,KAAA,CAAAe,IAAI,E,6BAtBzCY,gBAAA,CAsB8E,aACxE,G","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}