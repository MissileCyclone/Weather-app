{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      city: 'Moscow',\n      unit: 'C',\n      weather: {},\n      favoriteCities: JSON.parse(localStorage.getItem('favoriteCities')) || [] // получаем из localStorage\n    };\n  },\n  methods: {\n    addToFavorites() {\n      if (!this.favoriteCities.includes(this.city)) {\n        this.favoriteCities.push(this.city);\n        localStorage.setItem('favoriteCities', JSON.stringify(this.favoriteCities)); // сохраняем в localStorage\n      }\n    },\n    async fetchWeather() {\n      const apiKey = process.env.VUE_APP_API_KEY;\n      const units = this.unit === 'C' ? 'metric' : 'imperial';\n      const url = `${process.env.VUE_APP_BASE_URL}weather?q=${this.city}&units=${units}&appid=${apiKey}`;\n      try {\n        const response = await axios.get(url);\n        this.weather = {\n          temp: response.data.main.temp,\n          description: response.data.weather[0].description,\n          iconUrl: `http://openweathermap.org/img/wn/${response.data.weather[0].icon}.png`,\n          humidity: response.data.main.humidity,\n          pressure: response.data.main.pressure,\n          windSpeed: response.data.wind.speed,\n          windDirection: response.data.wind.deg\n        };\n        this.addToFavorites(); // добавляем город в избранное\n      } catch (error) {\n        console.error('Ошибка получения данных:', error);\n      }\n    }\n  },\n  mounted() {\n    this.fetchWeather(); // загружаем погоду сразу при старте\n  }\n};","map":{"version":3,"names":["axios","data","city","unit","weather","favoriteCities","JSON","parse","localStorage","getItem","methods","addToFavorites","includes","push","setItem","stringify","fetchWeather","apiKey","process","env","VUE_APP_API_KEY","units","url","VUE_APP_BASE_URL","response","get","temp","main","description","iconUrl","icon","humidity","pressure","windSpeed","wind","speed","windDirection","deg","error","console","mounted"],"sources":["C:\\Users\\Workstation\\weather-app\\src\\components\\WeatherDisplay.vue"],"sourcesContent":["<template>\r\n  <div class=\"weather\">\r\n    <input v-model=\"city\" @change=\"fetchWeather\" placeholder=\"Введите город\" />\r\n    <h2>Погода в {{ city }}</h2>\r\n    <!-- Список избранных городов -->\r\n    <ul>\r\n      <li v-for=\"favorite in favoriteCities\" :key=\"favorite\">{{ favorite }}</li>\r\n    </ul>\r\n    <p>Температура: {{ weather.temp }}°{{ unit }}</p>\r\n    <p>Описание: {{ weather.description }}</p>\r\n    <img :src=\"weather.iconUrl\" alt=\"Weather icon\" />\r\n    <p>Влажность: {{ weather.humidity }}%</p>\r\n    <p>Давление: {{ weather.pressure }} hPa</p>\r\n    <p>Ветер: {{ weather.windSpeed }} м/с, направление: {{ weather.windDirection }}°</p>\r\n    \r\n\r\n    <!-- Переключатель единиц измерения -->\r\n    <div>\r\n      <label>\r\n        <input type=\"radio\" v-model=\"unit\" value=\"C\" @change=\"fetchWeather\" /> Цельсий\r\n      </label>\r\n      <label>\r\n        <input type=\"radio\" v-model=\"unit\" value=\"F\" @change=\"fetchWeather\" /> Фаренгейт\r\n      </label>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n  return {\r\n    city: 'Moscow',\r\n    unit: 'C',\r\n    weather: {},\r\n    favoriteCities: JSON.parse(localStorage.getItem('favoriteCities')) || [] // получаем из localStorage\r\n  };\r\n},\r\n  methods: {\r\n  addToFavorites() {\r\n    if (!this.favoriteCities.includes(this.city)) {\r\n      this.favoriteCities.push(this.city);\r\n      localStorage.setItem('favoriteCities', JSON.stringify(this.favoriteCities)); // сохраняем в localStorage\r\n    }\r\n  },\r\n  async fetchWeather() {\r\n    const apiKey = process.env.VUE_APP_API_KEY;\r\n    const units = this.unit === 'C' ? 'metric' : 'imperial';\r\n    const url = `${process.env.VUE_APP_BASE_URL}weather?q=${this.city}&units=${units}&appid=${apiKey}`;\r\n    try {\r\n      const response = await axios.get(url);\r\n      this.weather = {\r\n        temp: response.data.main.temp,\r\n        description: response.data.weather[0].description,\r\n        iconUrl: `http://openweathermap.org/img/wn/${response.data.weather[0].icon}.png`,\r\n        humidity: response.data.main.humidity,\r\n        pressure: response.data.main.pressure,\r\n        windSpeed: response.data.wind.speed,\r\n        windDirection: response.data.wind.deg\r\n      };\r\n      this.addToFavorites(); // добавляем город в избранное\r\n    } catch (error) {\r\n      console.error('Ошибка получения данных:', error);\r\n    }\r\n  }\r\n},\r\n  mounted() {\r\n    this.fetchWeather(); // загружаем погоду сразу при старте\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.weather {\r\n  font-family: Arial, sans-serif;\r\n  text-align: center;\r\n  margin-top: 20px;\r\n}\r\n\r\nh2 {\r\n  color: #444;\r\n}\r\n</style>"],"mappings":";AA6BA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACP,OAAO;MACLC,IAAI,EAAE,QAAQ;MACdC,IAAI,EAAE,GAAG;MACTC,OAAO,EAAE,CAAC,CAAC;MACXC,cAAc,EAAEC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,gBAAgB,CAAC,KAAK,EAAC,CAAE;IAC3E,CAAC;EACH,CAAC;EACCC,OAAO,EAAE;IACTC,cAAcA,CAAA,EAAG;MACf,IAAI,CAAC,IAAI,CAACN,cAAc,CAACO,QAAQ,CAAC,IAAI,CAACV,IAAI,CAAC,EAAE;QAC5C,IAAI,CAACG,cAAc,CAACQ,IAAI,CAAC,IAAI,CAACX,IAAI,CAAC;QACnCM,YAAY,CAACM,OAAO,CAAC,gBAAgB,EAAER,IAAI,CAACS,SAAS,CAAC,IAAI,CAACV,cAAc,CAAC,CAAC,EAAE;MAC/E;IACF,CAAC;IACD,MAAMW,YAAYA,CAAA,EAAG;MACnB,MAAMC,MAAK,GAAIC,OAAO,CAACC,GAAG,CAACC,eAAe;MAC1C,MAAMC,KAAI,GAAI,IAAI,CAAClB,IAAG,KAAM,GAAE,GAAI,QAAO,GAAI,UAAU;MACvD,MAAMmB,GAAE,GAAI,GAAGJ,OAAO,CAACC,GAAG,CAACI,gBAAgB,aAAa,IAAI,CAACrB,IAAI,UAAUmB,KAAK,UAAUJ,MAAM,EAAE;MAClG,IAAI;QACF,MAAMO,QAAO,GAAI,MAAMxB,KAAK,CAACyB,GAAG,CAACH,GAAG,CAAC;QACrC,IAAI,CAAClB,OAAM,GAAI;UACbsB,IAAI,EAAEF,QAAQ,CAACvB,IAAI,CAAC0B,IAAI,CAACD,IAAI;UAC7BE,WAAW,EAAEJ,QAAQ,CAACvB,IAAI,CAACG,OAAO,CAAC,CAAC,CAAC,CAACwB,WAAW;UACjDC,OAAO,EAAE,oCAAoCL,QAAQ,CAACvB,IAAI,CAACG,OAAO,CAAC,CAAC,CAAC,CAAC0B,IAAI,MAAM;UAChFC,QAAQ,EAAEP,QAAQ,CAACvB,IAAI,CAAC0B,IAAI,CAACI,QAAQ;UACrCC,QAAQ,EAAER,QAAQ,CAACvB,IAAI,CAAC0B,IAAI,CAACK,QAAQ;UACrCC,SAAS,EAAET,QAAQ,CAACvB,IAAI,CAACiC,IAAI,CAACC,KAAK;UACnCC,aAAa,EAAEZ,QAAQ,CAACvB,IAAI,CAACiC,IAAI,CAACG;QACpC,CAAC;QACD,IAAI,CAAC1B,cAAc,CAAC,CAAC,EAAE;MACzB,EAAE,OAAO2B,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAClD;IACF;EACF,CAAC;EACCE,OAAOA,CAAA,EAAG;IACR,IAAI,CAACxB,YAAY,CAAC,CAAC,EAAE;EACvB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}